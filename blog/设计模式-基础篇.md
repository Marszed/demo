# 设计模式(基础知识)

封装、继承、多态、原型链、作用域链、this、闭包、高阶函数

## 面向对象的js
1. 动态类型语言与[鸭子类型](https://en.wikipedia.org/wiki/Duck_typing)-[指鹿为马](https://baike.baidu.com/item/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B/10845665?fr=aladdin)
    1. 鸭子类型(duck typing)`是动态类型和某些静态语言的一种对象推断风格`
        1. 如果把能发出"嘎嘎嘎"声音的动物叫做鸭子，那么就可以认为它是`鸭子` 
        2. 例如 若某对象有push和pop方法，并且被正确实现，就可以把它当做栈来使用； 类数组对象当数组使用等等    
    2. 静态语言优劣势
        1. 定义: 编译时就能确定变量的类型
        2. 优势: 编译时发现类型不匹配的错误，一定程度上降低bug数量，编译器可以针对性的对程序进行优化工作、提高执行效率
        3. 劣势: 开发时必须准守确定变量类型的规则，造成开发约束（从交付需求的目的看）、分散逻辑表达、代码繁琐、代码量多
    3. 动态语言优劣势
        1. 运行时，在变量被赋值后才能确定变量的类型
        2. 优势: 开发时自由奔放，代码简洁、代码量量少、聚焦逻辑表达
        3. 劣势: 容易隐藏类型相关的错误(`Uncaught TypeError: xxx not a function`)
2. 多态
    1. 定义：同一操作作用域不同的对象上面，可以产生不同的解释和不同的执行结果
    2. 最根本的好处：不必再关注对象的类型，只管调用，其它的交给多态机制（事先约定方法安装在对象内部）。将”谁去做“和”做什么拆开“,通多对象的多态性消除过程化的条件分支语句
        1. 对象的多态性
        2. 类型检查和多态
        3. 使用继承得到多态效果
3. 封装
    1. 封装数据
    2. 封装类型 
    3. 封装实现
    4. 封装变化
4. 原型模式和基于原型继承的js对象系统
   1. 定义：创建对象的一种模式 也是一种[编程泛型](https://baike.baidu.com/item/泛型编程/6787248?fr=aladdin)
   2. 方式：指定类型然后通过类来创建(java)； 找一个目标对象clone一份(js)
   3. 原型继承的本质： 基于原型链的委托机制
   4. 原型编程泛型基本规则
        1. 所有数据都是对象
        2. 要得到一个对象，不是通过实例化类，而是找到一个对象作为原型并克隆它
        3. 对象会记住他的原型
        4. 如果对象无法响应某个请求，对象会将这个请求委托给它自己的原型 

## this、call、apply 和 bind
1. this指向
   1. 作为普通函数调用
   2. 作为构造器调用
   3. 作为对象方法调用
   4. Function.prototype.apply, Function.prototype.call、Function.prototype.bind
2. call、apply
   1. 改变this指向
   2. Function.prototype.bind
   3. 借用对象方法

## 作用域、闭包和高阶函数
1. 作用域
2. 闭包 [业务实例](https://git.wzj.com/frontend/mall-mp/merge_requests/64)
   1. 封装变量
   2. 延长局部变量的生命周期
   3. 闭包和面向对象设计
3. 高阶函数
   1. 定义： 满足 入参是fn 或 出参是fn 之一
   2. 回调函数、Array.prototype.sort、节流
   3. aop、currying、uncurrying、节流(throttle)、分时(debounce)、惰性加载

#### 精简版-[JavaScript设计模式](https://juejin.im/post/5c2e10a76fb9a049c0432697)
